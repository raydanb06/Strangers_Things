{"version":3,"sources":["util/index.js","components/AddPost.js","components/Posts.js","components/Account.js","components/Homepage.js","components/Login.js","components/Register.js","components/Profile.js","components/PostSingle.js","components/PostView.js","components/CommentForm.js","components/SearchForm.js","index.js"],"names":["callAPI","a","url","method","token","body","options","toUpperCase","headers","JSON","stringify","fetch","process","response","json","data","error","console","AddPost","fetchPosts","useState","title","setTitle","description","setDescription","price","setPrice","handleAddPost","ev","preventDefault","post","onSubmit","placeholder","type","value","onChange","target","Posts","props","posts","searchTerm","setSearchTerm","filteredPosts","filter","includes","className","map","_id","filteredPost","Account","setToken","Homepage","Login","username","setUsername","password","setPassword","history","useHistory","handleLoginSubmit","user","loginObj","push","htmlFor","Register","newUsername","setNewUsername","newPassword","setNewPassword","newPasswordCheck","setNewPasswordCheck","handleRegisterSubmit","registerObj","Profile","myPosts","setMyPosts","myMessages","setMyMessages","loadProfile","profile","messages","useEffect","idx","message","fromUser","content","PostSingle","handleDelete","postId","isAuthor","onClick","to","PostView","useParams","find","comment","CommentForm","setContent","handleSubmit","SearchForm","log","App","setPosts","postObj","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e31943f2.chunk.js","sourcesContent":["const { REACT_APP_BASE_URL } = process.env\n\nexport const callAPI = async ({url, method, token, body}) => {\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }\n    if (token) options.headers['Authorization'] = `Bearer ${token}`;\n\n    const response = await fetch (`${REACT_APP_BASE_URL}/${url}`, options);\n    const data = await response.json();\n    if (data.error) {\n      throw (data.error)\n    }\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}","import React, { useState } from 'react';\nimport { callAPI } from '../util';\n\nconst AddPost = ({ token, fetchPosts }) => {\n  const [ title, setTitle] = useState('');\n  const [ description, setDescription ] = useState('');\n  const [ price, setPrice ] = useState('');\n\n  const handleAddPost = async (ev) => {\n    ev.preventDefault();\n\n    try {\n      const AddPostResp = await callAPI({\n        url: 'posts',\n        method: 'POST',\n        token: `${token}`,\n        body: {\n          post: {\n            title: `${title}`,\n            description: `${description}`,\n            price: `${price}`\n          }\n        }\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n\n    await fetchPosts();\n    setTitle('');\n    setDescription('');\n    setPrice('');\n  };\n\n  return <>\n    <form onSubmit={handleAddPost}>\n      <input placeholder='Title' type='text' value={title} onChange={\n        ev => setTitle(ev.target.value)\n      }></input>\n      <input placeholder='Description' type='text' value={description} onChange={\n        ev => setDescription(ev.target.value)\n      }></input>\n      <input placeholder='Price' type='text' value={price} onChange={\n        ev => setPrice(ev.target.value)\n      }></input>\n      <button type='submit'>Add Post</button>\n    </form>\n  </>\n};\n\nexport default AddPost;","import React, { useState } from 'react';\nimport AddPost from './AddPost';\n\nimport { PostSingle, SearchForm } from './';\n\nconst Posts = (props) => {\n  const { token, posts, fetchPosts } = props;\n  const [ searchTerm, setSearchTerm ] = useState('');\n\n  const filteredPosts = posts.filter(post => post.title.includes(searchTerm));\n\n  return <>\n    <h1 className='header'>Posts</h1>\n    {\n      <SearchForm className='search-form' posts={posts} searchTerm={searchTerm} setSearchTerm={setSearchTerm}/>\n    }\n    {\n      !searchTerm && token ? <AddPost token={token} fetchPosts={fetchPosts}/> : null\n    }\n    {\n      !searchTerm && posts.map(post => <PostSingle key={post._id} post={post} token={token} fetchPosts={fetchPosts} />)\n    }\n    {\n      searchTerm && filteredPosts.map(filteredPost => <PostSingle key={filteredPost._id} post={filteredPost} token={token}/>)\n    }\n    </>\n};\n\nexport default Posts;","import React from 'react';\n\nimport { Register, Login } from '../components';\n\nconst Account = (props) => {\n  const { setToken } = props;\n\n  return <>\n    <h1 className='header'>LoginPage</h1>\n    <Register setToken={setToken}/>\n    <Login setToken={setToken}/>\n  </>\n};\n\nexport default Account;","import React from 'react';\n\nconst Homepage = (props) => {\n  const { token } = props;\n\n  return <>\n    <h1 className='header'>Stranger's Things Homepage</h1>\n    {\n      token ? \n      <div>You are logged in.</div> \n      : \n      <div>Login to do more.</div>\n    }\n  </>\n}\n\nexport default Homepage;","import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { callAPI } from '../util';\n\nconst Login = (props) => {\n  const { setToken } = props;\n  const [ username, setUsername ] = useState('');\n  const [ password, setPassword ] = useState('');\n  const history = useHistory();\n\n  const handleLoginSubmit = async (ev) => {\n    ev.preventDefault();\n    \n    try {\n      const loginObj = await callAPI({\n        url: 'users/login',\n        method: 'POST',\n        body: {\n          user: {\n            username: `${username}`,\n            password: `${password}`\n          }\n        }\n      });\n      if (loginObj.data) {\n        setToken(loginObj.data.token);\n        if (loginObj.data.token) {\n          history.push('/');\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n\n    \n    setUsername('');\n    setPassword('');\n  };\n\n  return <>\n    <h2 className='header'>Login</h2>\n    <form onSubmit={handleLoginSubmit}>\n      <label htmlFor='username'>Username:</label>\n      <input placeholder='Username' type='text' value={username} onChange={\n        ev => setUsername(ev.target.value)\n      }></input>\n\n      <label htmlFor='password'>Password:</label>\n      <input placeholder='Password' type='password' /*minLength='8'*/ value={password} onChange={\n        ev => setPassword(ev.target.value)\n      }></input>\n\n      <button type='submit'>Login</button>\n    </form>\n  </>\n}\n\nexport default Login;","import React, { useState } from 'react';\nimport { useHistory } from 'react-router'\nimport { callAPI } from '../util';\n\nconst Register = (props) => {\n  const { setToken } = props;\n  const [ newUsername, setNewUsername ] = useState('');\n  const [ newPassword, setNewPassword ] = useState('');\n  const [ newPasswordCheck, setNewPasswordCheck ] = useState('');\n  const history = useHistory();\n\n  const handleRegisterSubmit = async (ev) => {\n    ev.preventDefault();\n\n    try {\n      const registerObj = await callAPI({\n        url: 'users/register',\n        method: 'POST',\n        body: {\n          user: {\n            username: `${newUsername}`,\n            password: `${newPassword}`\n          }\n        }\n      });\n      if (registerObj.data) {\n        setToken(registerObj.data.token);\n        if (registerObj.data.token) {\n          history.push('/');\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n\n    setNewUsername('');\n    setNewPassword('');\n    setNewPasswordCheck('');\n  };\n\n  return <>\n    <h2 className='header'>Register</h2>\n    <form onSubmit={handleRegisterSubmit}>\n      <label htmlFor='new-username'>Username:</label>\n      <input placeholder='New Username' type='text' value={newUsername} onChange={\n        ev => setNewUsername(ev.target.value)\n      }></input>\n\n      <label htmlFor='new-password'>Password:</label>\n      <input placeholder='New Password' type='password' /*minLength='8'*/ value={newPassword} onChange={\n        ev => setNewPassword(ev.target.value)\n      }></input>\n\n      <label htmlFor='new-password-check'>Re-enter Password:</label>\n      <input placeholder='Re-enter New Password' type='password' /*minLength='8'*/ value={newPasswordCheck} onChange={\n        ev => setNewPasswordCheck(ev.target.value)\n      }></input>\n\n      <button type='submit'>Register</button>\n    </form>\n  </>\n}\n\nexport default Register;","import React, { useState, useEffect } from 'react';\nimport { callAPI } from '../util';\n\nconst Profile = (props) => {\n  const { token } = props;\n  const [ myPosts, setMyPosts ] = useState([]);\n  const [ myMessages, setMyMessages ] = useState([]);\n\n  const loadProfile = async () => {\n    try {\n      const profile = await callAPI({\n        url: 'users/me',\n        method: 'GET',\n        token: `${token}`\n      })\n  \n      setMyPosts(profile.data.posts);\n      setMyMessages(profile.data.messages);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  useEffect(() => {\n    loadProfile()\n  }, []);\n\n  return <>\n    <h1 className='header'>Profile</h1>\n    <h2 className='header'>My Posts</h2>\n    {\n      myPosts.map((post, idx) => {\n        return <div key={post._id} className='post'>\n          {post.title}, {post.description}, {post.price}\n        </div>\n      })\n    }\n    <h2 className='header'>Messages</h2>\n    {\n      myMessages.map((message,idx) => {\n        return <div key={message._id} className='message'>\n          {message.fromUser.username}, {message.content} { ' in ' } { message.post.title}\n        </div>\n      })\n    }\n  </>\n}\n\n\n\nexport default Profile;","import React from 'react';\nimport { callAPI } from '../util';\nimport { Link } from 'react-router-dom';\n\nconst PostSingle = (props) => {\n  const { post, token, fetchPosts } = props;\n\n  const handleDelete = async (postId) => {\n    try {\n      const deleteObj = await callAPI({\n        url: `posts/${postId}`,\n        method: 'DELETE',\n        token: `${token}`\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n    \n    await fetchPosts();\n  };\n\n  return <>\n    <div key={post._id} className='post'>\n      {post.title}, {post.description}, {post.price}\n      {\n        post.isAuthor && <button onClick={() => handleDelete(post._id)}>Delete</button>\n      }\n      {\n        token && !post.isAuthor && <Link className='post-link' to={`/posts/${post._id}`}>Message</Link>\n      }\n      {\n        token && post.isAuthor && <Link className='post-link' to={`/posts/${post._id}`}>View Details</Link>\n      }\n    </div>\n  </>\n}\n\nexport default PostSingle;","import React from 'react';\nimport { useParams } from 'react-router';\n\nimport { PostSingle, CommentForm } from '../components'\n\nconst PostView = (props) => {\n  const { token, posts } = props;\n  const { postId } = useParams();\n  const post = posts.find(post => post._id === postId);\n\n  return <>\n    <h1 className='header'>Post Viewing</h1>\n    <PostSingle post={post} />\n    {\n      token && post.isAuthor && post.messages.map(comment => <div key={comment._id}>\n        <div>From User: {comment.fromUser.username}, Comment: {comment.content}</div>\n      </div>)\n    }\n    {\n      token && !post.isAuthor && <CommentForm token={token} post={post}/>\n    }\n  </>\n}\n\nexport default PostView;","import React, { useState } from 'react';\nimport { callAPI } from '../util';\n\nconst CommentForm = (props) => {\n  const { token, post } = props;\n  const [ content, setContent ] = useState('');\n  \n  const handleSubmit = async (ev) => {\n    ev.preventDefault();\n    try {\n      const message = await callAPI({\n        method: 'post',\n        url: `posts/${post._id}/messages`,\n        token: `${token}`,\n        body: {\n          message: {\n            content\n          }\n        }\n      })\n    } catch (error) {\n      console.error(error);\n    }\n    setContent('');\n  }\n\n  return <>\n    <h2 className='header'>Comment</h2>\n    <form onSubmit={handleSubmit}>\n      <input placeholder='Comment Here' type='text' value={content} onChange={(ev) => setContent(ev.target.value)}/>\n      <button type='submit'>Add Comment</button>\n    </form>\n  </>\n}\n\nexport default CommentForm;","import React from 'react';\n\nconst SearchForm = (props) => {\n  const { posts, searchTerm, setSearchTerm } = props;\n\n  const handleSearch = (ev) => {\n    ev.preventDefault();\n    console.log(posts);\n  }\n\n  return <>\n    <form className='search-form' onSubmit={handleSearch}>\n      <input placeholder='Search' type='text' value={searchTerm} onChange={(ev) => setSearchTerm(ev.target.value)}/>\n      <button type='submit'>Search</button>\n    </form>\n  </>\n}\n\nexport default SearchForm;","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\n\nimport { Posts, Account, Homepage, Profile, PostView } from './components';\nimport { callAPI } from './util';\n\nconst App = () => {\n  const [ token, setToken ] = useState('');\n  const [posts, setPosts] = useState([]);\n\n  const fetchPosts = async () => {\n    const postObj = await callAPI({\n      url: 'posts',\n      method: 'GET',\n      token: `${token}`\n    });\n    if (postObj.data) {\n      setPosts(postObj.data.posts);\n    }\n};\n\n  useEffect(() => {\n      fetchPosts();\n    }, [ token ]);\n\n  return <>\n    <Link to='/'>Home</Link> | <Link to='/posts'>Posts</Link> | <Link to='/account'>Login/Register</Link> | { token ? <Link to='/profile'>Profile</Link> : '' } | { token ? <Link to='/' onClick={() => setToken('')} >Logout</Link> : '' }\n    <Route exact path='/'>\n      <Homepage token={token}/>\n    </Route>\n    <Route exact path='/posts'>\n      <Posts token={token} posts={posts} fetchPosts={fetchPosts}/>\n    </Route>\n    <Route exact path='/posts/:postId'>\n      <PostView token={token} posts={posts}/>\n    </Route>\n    <Route exact path='/account'>\n      <Account setToken={setToken}/>\n    </Route>\n    <Route exact path='/profile'>\n      <Profile token={token}/>\n    </Route>\n  </>\n};\n\nReactDOM.render(\n  <Router><App /></Router>,\n  document.getElementById('app'),\n);"],"sourceRoot":""}